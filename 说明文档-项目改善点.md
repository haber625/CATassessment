# 说明文档-项目改善点

## 1.封装ajax

封装了ajax的get方法

```js
//封装ajax 
function get(url, data, success) {
    var xhr = new XMLHttpRequest;
    if (data) {
        url += '?' + data;
    }
    xhr.open('get', url);
    if (sessionStorage.getItem('userToken')) {
        xhr.setRequestHeader("token", sessionStorage.getItem('userToken'));
    }
    xhr.send();
    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == 200) {
            success(JSON.parse(xhr.responseText));//回调函数
        }
    }
}
```



## 2.增加进度条拖拽功能

##### 点击进度条可改变播放进度

##### 可拖拽进度条改变播放进度



## 3.实现动态获取歌曲

实现了 通过点击歌曲 动态获取歌曲信息并进行播放

（可以点击页面下半部分的三个榜单内的歌曲，点击后播放）



## 4.登录按钮改进

先前登录按钮处 在未登录与登录时，鼠标经过都会显示下拉栏。

改进后仅在登录状态下显示下拉栏。